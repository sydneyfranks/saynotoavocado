/*! tineye 2019-11-07 */

var TinEye=function(e){return e.get_image_count=function(i,o){$.get("/image_count",dataType="json",function(e){if(i){var a=e/1e9;$("#"+o).text(a.toFixed(1))}else $("#"+o).text(e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}).fail(function(){i?$("#"+o).text("35.3"):$("#"+o).text("more than 35.3 billion")})},e}((TinEye=function(l,a,s){var i=null;function o(){null!==i&&l.close_overlay(i)}function r(e){s("#overlay_image-"+e).css("background-position","0px center"),s("#your_image_label-"+e).removeClass("nonactive"),s("#matching_image_label-"+e).removeClass("active-right"),s("#your_image_label-"+e).addClass("active-left"),s("#matching_image_label-"+e).addClass("nonactive"),s("#matching_image-"+e).removeClass("active"),s("#your_image-"+e).addClass("active"),s("#match-info-"+e).addClass("hidden"),s("#query-info-"+e).removeClass("hidden")}function d(e,a){s("#overlay_image-"+a).css("background-position",-e/2+"px center"),s("#your_image_label-"+a).removeClass("active-left"),s("#matching_image_label-"+a).removeClass("nonactive"),s("#your_image_label-"+a).addClass("nonactive"),s("#matching_image_label-"+a).addClass("active-right"),s("#your_image-"+a).removeClass("active"),s("#matching_image-"+a).addClass("active"),s("#match-info-"+a).removeClass("hidden"),s("#query-info-"+a).addClass("hidden")}return a.preloadImages=function(){for(var e=0;e<arguments.length;e++)a("<img>").attr("src",arguments[e])},s.preloadImages("/images/throbber.gif"),l.close_overlay=function(e){l.toggleDisclosureWidget("compare-"+e),s("#overlay-"+e).children().remove(),s(document).unbind("keydown"),i=null,s(".results").off("click",o),s(".compare-popup").off("click",function(e){e.stopPropagation()})},l.overlay=function(n,e){var t=e;o(),s("#overlay-"+t).children().remove();var a='<div class="overlay-container"><div class="images overlay" id="overlay_image-'+t+'"><div id="matching_image-'+t+'" class="active"></div></div><div id="your_image-'+t+'" ></div></div>';s("#overlay-"+t).append(a);var c=new Image;s(c).bind("load",function(){var i=c.width,e=c.height,a=s(".overlay-container").width()-20;2*a<i&&(e=Math.round(2*a/i*e),i=2*a),s(document).bind("keydown",function(e){var a=e.which?e.which:e.keyCode;39==a||63235==a?d(i,t):37==a||63234==a?r(t):27==a&&l.close_overlay(t)}),s(".toggle_images-"+t).off("click"),s(".toggle_images-"+t).on("click",function(){s("#matching_image_label-"+t).hasClass("active-right")?r(t):d(i,t)});var o=s("#overlay_image-"+t);o.css("width",i/2+"px"),o.css("height",e+"px"),o.css("margin","10px auto 10px"),o.css("background-position",-i/2+"px center"),o.css("background-size",i+"px "+e+"px"),o.css("background-image","url('"+n+"')"),d(i,t)}),c.src=n,i=t,s(".results").off("click",o).on("click",o),s(".compare-popup").off("click",function(e){e.stopPropagation()}).on("click",function(e){e.stopPropagation()})},l}((TinEye=function(e){return e.toggleDisclosureWidget=function(e){var a=document.getElementById(e);"slide-show"==a.className?a.className="slide-hide":a.className="slide-show"},e}(TinEye||{}))||{},jQuery,$))||{});